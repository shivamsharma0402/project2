<%- include('../includes/head.ejs') %>
    </nav>
    <main>
      <% if(prods.length > 0 ) { %>
      <div class="mx-auto row row-cols-1 row-cols-md-2 g-4" >
      <% for ( let product of prods ) { %>
            <div class="card ms-3 md-3 mt-5" style="width: 200px;">
              <img src="/<%= product.imageURL %>" class="mt-3 card-img-top" alt="url not fetched">
              <div class="card-body">
                <h5 class="card-title"><%= product.title %></h5>
                <p class="card-text">Price: <%= product.price %></p>
                <p class="card-text"><%= product.description %></p>
                <div>
                  <a href="/admin/productsEdit/<%= product._id %>" class="btn btn-sm btn-outline-primary">Edit</a>
                  <span>
                    <a href="/admin/productsDelete/<%= product._id %>" class="btn btn-sm btn-outline-danger">Delete</a>
                  </span>
                </div>
                <% let time= ((new Date() - product.Date)/1000) < 60 ? `${Math.floor((new Date() - product.Date)/1000)} Seconds` : `${Math.floor((new Date() - product.Date)/60000)} Minutes` %>
              <% if(((new Date() - product.Date)/60000)>60) time= `${Math.floor((new Date() - product.Date)/3600000)} hours` %>
              <% if(((new Date() - product.Date)/3600000)>24) time= `${Math.floor((new Date() - product.Date)/(3600000*24))} day(s)` %>

                <p class="card-text"><small class="text-muted">Last updated <%= time %> ago</small></p>
              </div>
            </div>
        <% } %>
      <% } else { %> 
        <h1 class="ms-3">No Products!</h1> 
        <% } %>
      </div>
    </main>
    <%- include('../includes/end.ejs') %>


